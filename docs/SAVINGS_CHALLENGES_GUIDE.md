# Sparmåls-utmaningar - Användarguide

**Version:** 1.0  
**Datum:** 2025-10-30  
**Status:** Implementerat

## Innehållsförteckning

1. [Översikt](#översikt)
2. [Komma igång](#komma-igång)
3. [Utmaningsbiblioteket](#utmaningsbiblioteket)
4. [Skapa egna utmaningar](#skapa-egna-utmaningar)
5. [Hantera aktiva utmaningar](#hantera-aktiva-utmaningar)
6. [Registrera framsteg](#registrera-framsteg)
7. [Statistik och översikt](#statistik-och-översikt)
8. [API-dokumentation](#api-dokumentation)

---

## Översikt

Sparmåls-utmaningar är en gamification-funktion som hjälper dig att spara pengar på ett roligt och motiverande sätt. Funktionen innehåller:

- **17 färdiga utmaningar** i olika svårighetsgrader och kategorier
- **Streak-tracking** för att uppmuntra daglig aktivitet
- **Progress bars** för att visualisera framsteg
- **Estimerad besparing** för varje utmaning
- **Badges och achievements** (kommande funktion)

### Kategorier

Utmaningarna är indelade i följande kategorier:

- **Individuell** - Personliga sparutmaningar
- **Hälsa** - Kombinerar hälsa och ekonomi
- **Miljö** - Klimatsmarta val som även sparar pengar
- **Minimalism** - Minska konsumtion och rensa
- **Social** - Utmaningar tillsammans med andra
- **Hushåll** - För hela familjen
- **Målbaserad** - Spara mot specifika mål
- **Rolig** - Gamified och överraskande utmaningar

---

## Komma igång

### Navigera till Sparmåls-utmaningar

1. Logga in på Privatekonomi
2. Klicka på **"Sparmåls-utmaningar"** i menyn
3. Du kommer till översiktssidan med tre huvudsektioner:
   - Statistik (aktiva, genomförda, totalt sparat)
   - Aktiva utmaningar
   - Genomförda utmaningar

### Starta din första utmaning

Det finns två sätt att starta en utmaning:

1. **Från Utmaningsbiblioteket** (rekommenderat för nybörjare)
2. **Skapa en egen utmaning** (för mer kontroll)

---

## Utmaningsbiblioteket

### Öppna biblioteket

Klicka på knappen **"Utmaningsbibliotek"** högst upp på sidan.

### Tillgängliga utmaningar

#### Kortsiktiga utmaningar (1-4 veckor)

| Utmaning | Emoji | Längd | Svårighetsgrad | Estimerad besparing |
|----------|-------|-------|----------------|---------------------|
| **No Spend Weekend** | 🛍️ | 2 dagar | ⭐⭐ | 500-2000 kr |
| **Matlåda varje dag** | 🍱 | 14 dagar | ⭐⭐⭐ | 1000-1500 kr |
| **Endast cykel/kollektiv** | 🚴 | 14 dagar | ⭐⭐⭐ | 500-2000 kr |
| **Sälja 5 saker** | 📦 | 30 dagar | ⭐⭐⭐ | 500-5000 kr |
| **Växelpengsburken** | 🪙 | 30 dagar | ⭐ | 200-800 kr |

#### Medellånga utmaningar (1-3 månader)

| Utmaning | Emoji | Längd | Svårighetsgrad | Estimerad besparing |
|----------|-------|-------|----------------|---------------------|
| **Noll spontanhandel** | 🛒 | 30 dagar | ⭐⭐⭐⭐ | 1000-3000 kr |
| **Strömnings-detox** | 📺 | 30 dagar | ⭐⭐⭐ | 200-800 kr |
| **Alkoholfri månad** | 🍷 | 30 dagar | ⭐⭐⭐⭐ | 1000-5000 kr |
| **Gåvofri period** | 🎁 | 60 dagar | ⭐⭐⭐ | 500-2000 kr |
| **Hemma-gymmet** | 🏋️ | 90 dagar | ⭐⭐⭐ | 1500-3000 kr |

#### Långsiktiga utmaningar (3-6 månader)

| Utmaning | Emoji | Längd | Svårighetsgrad | Estimerad besparing |
|----------|-------|-------|----------------|---------------------|
| **Spara för specifikt mål** | 💰 | 90 dagar | ⭐⭐⭐⭐ | 5000-50000 kr |
| **Hushålls-challenge** | 🏠 | 90 dagar | ⭐⭐⭐⭐ | 10000-100000 kr |
| **Klimatsmart-utmaning** | 🌍 | 90 dagar | ⭐⭐⭐⭐ | 2000-6000 kr |
| **Progressivt sparande** | 📈 | 180 dagar | ⭐⭐⭐⭐⭐ | 15000-50000 kr |
| **Slump-spararen** | 🎲 | 90 dagar | ⭐⭐ | 1000-3000 kr |

#### Sociala utmaningar

| Utmaning | Emoji | Längd | Svårighetsgrad | Estimerad besparing |
|----------|-------|-------|----------------|---------------------|
| **Spargruppen** | 👥 | 60 dagar | ⭐⭐⭐ | Varierande |
| **Leaderboard-tävling** | 🥇 | 30 dagar | ⭐⭐⭐⭐ | Varierande |

### Starta en utmaning från mallen

1. Klicka på **"Starta denna utmaning"** på önskad mall
2. Utmaningen startar omedelbart med dagens datum
3. Du omdirigeras till översiktssidan där din nya utmaning visas under "Aktiva Utmaningar"

---

## Skapa egna utmaningar

### Öppna formuläret

Klicka på **"Skapa Egen Utmaning"** högst upp på sidan.

### Fyll i uppgifter

1. **Namn** - Ge din utmaning ett beskrivande namn
2. **Beskrivning** - Beskriv vad utmaningen går ut på
3. **Typ av utmaning** - Välj från 24 olika typer (inklusive de 17 nya)
4. **Målbelopp (kr)** - Hur mycket vill du spara?
5. **Antal dagar** - Hur lång ska utmaningen vara?
6. **Startdatum** - När börjar utmaningen?

### Tillgängliga utmaningstyper

Det finns totalt **24 olika utmaningstyper**:
- **7 ursprungliga typer** (Spara dagligen, Ingen restaurang, etc.)
- **17 nya typer** som lagts till i denna uppdatering

Alla 24 typer:

- 💰 Spara dagligen
- 🍽️ Ingen restaurang
- 🍕 Ingen takeaway
- ☕ Inget kaffe på café
- 📊 Spara % av inkomst
- 🔒 Utgiftsgräns
- 🛍️ No Spend Weekend
- 🍱 Matlåda varje dag
- 🚴 Endast cykel/kollektiv
- 📦 Sälja 5 saker
- 🪙 Växelpengsburken
- 🛒 Noll spontanhandel
- 📺 Strömnings-detox
- 🍷 Alkoholfri månad
- 🎁 Gåvofri period
- 🏋️ Hemma-gymmet
- 💰 Spara för specifikt mål
- 🏠 Hushålls-challenge
- 🌍 Klimatsmart-utmaning
- 📈 Progressivt sparande
- 🎲 Slump-spararen
- 👥 Spargruppen
- 🥇 Leaderboard-tävling
- ✏️ Anpassad

### Spara utmaningen

Klicka på **"Skapa"** för att starta din egen utmaning.

---

## Hantera aktiva utmaningar

### Översikt

Alla dina aktiva utmaningar visas på översiktssidan med:

- **Namn och ikon**
- **Beskrivning**
- **Progress bar** (% klart)
- **Dag X/Y** (hur många dagar genomförda av totalt)
- **Sparat belopp** (av målbelopp)
- **Streak** 🔥 (antal dagar i rad, om tillämpligt)
- **Återstående dagar**

### Tillgängliga åtgärder

För varje aktiv utmaning kan du:

1. **Registrera framsteg** 📝 - Logga dagens framsteg
2. **Redigera** ✏️ - Ändra namn, beskrivning eller mål
3. **Pausa** ⏸️ - Pausa utmaningen tillfälligt
4. **Markera som klar** ✅ - Genomför utmaningen i förtid

---

## Registrera framsteg

### Öppna framstegsdialogen

Klicka på **"Registrera framsteg"** på en aktiv utmaning.

### Fyll i framsteg

1. **Datum** - Vilket datum gäller framsteget? (standard: idag)
2. **Utmaning genomförd idag** - Kryssa i om du följde utmaningen
3. **Sparat belopp (kr)** - Hur mycket sparade du?
4. **Anteckningar** - Frivillig kommentar (t.ex. "Tog med matlåda igen!")

### Spara framsteget

Klicka på **"Spara"**.

### Automatiska beräkningar

När du registrerar framsteg uppdateras automatiskt:

- **Sparat totalbelopp**
- **Antal genomförda dagar**
- **Progress bar**
- **Streak** (om du registrerar flera dagar i rad)
- **Bästa streak** (högsta antal dagar i rad)
- **Status** (om utmaningen är genomförd)

---

## Statistik och översikt

### Statistikkort

Högst upp på sidan finns tre kort med sammanfattning:

1. **Aktiva Utmaningar** - Antal pågående utmaningar
2. **Genomförda** - Antal slutförda utmaningar
3. **Totalt Sparat** - Summa pengar sparade genom alla utmaningar

### Aktiva utmaningar

Visar alla pågående utmaningar i kortformat med progress bars och åtgärder.

### Genomförda utmaningar

Tabell med alla slutförda utmaningar:

- **Namn** med emoji
- **Typ** av utmaning
- **Sparat belopp**
- **Bästa streak** 🔥
- **Datum** (start - slut)
- **Åtgärder** (visa detaljer, ta bort)

---

## API-dokumentation

### Bas-URL

```
/api/savingschallenges
```

### Endpoints

#### Hämta alla utmaningsmallar

```http
GET /api/savingschallenges/templates
```

**Svar:**
```json
[
  {
    "challengeTemplateId": 1,
    "name": "No Spend Weekend",
    "description": "Ingen shopping eller icke-nödvändiga utgifter under en helg...",
    "icon": "🛍️",
    "type": "NoSpendWeekend",
    "durationDays": 2,
    "difficulty": 2,
    "category": "Individual",
    "estimatedSavingsMin": 500,
    "estimatedSavingsMax": 2000,
    "suggestedTargetAmount": 1000,
    "tags": ["kortsiktig", "helg", "minimalism"]
  }
]
```

#### Hämta specifik mall

```http
GET /api/savingschallenges/templates/{id}
```

#### Starta utmaning från mall

```http
POST /api/savingschallenges/templates/{id}/start
```

**Svar:**
```json
{
  "savingsChallengeId": 123,
  "name": "No Spend Weekend",
  "description": "Ingen shopping eller icke-nödvändiga utgifter under en helg...",
  "type": "NoSpendWeekend",
  "targetAmount": 1000,
  "currentAmount": 0,
  "durationDays": 2,
  "startDate": "2025-10-30T00:00:00Z",
  "endDate": "2025-11-01T00:00:00Z",
  "status": "Active",
  "currentStreak": 0,
  "bestStreak": 0,
  "icon": "🛍️",
  "difficulty": 2,
  "category": "Individual"
}
```

#### Hämta alla utmaningar

```http
GET /api/savingschallenges
```

#### Hämta aktiva utmaningar

```http
GET /api/savingschallenges/active
```

#### Hämta genomförda utmaningar

```http
GET /api/savingschallenges/completed
```

#### Skapa ny utmaning

```http
POST /api/savingschallenges
Content-Type: application/json

{
  "name": "Min egen utmaning",
  "description": "Beskrivning här",
  "type": "Custom",
  "targetAmount": 5000,
  "durationDays": 30,
  "startDate": "2025-10-30T00:00:00Z"
}
```

#### Registrera framsteg

```http
POST /api/savingschallenges/{id}/progress
Content-Type: application/json

{
  "date": "2025-10-30T00:00:00Z",
  "completed": true,
  "amountSaved": 100,
  "notes": "Tog med matlåda idag!"
}
```

#### Uppdatera status

```http
PATCH /api/savingschallenges/{id}/status
Content-Type: application/json

"Completed"
```

Möjliga statusvärden:
- `Active`
- `Completed`
- `Failed`
- `Paused`

#### Hämta statistik

```http
GET /api/savingschallenges/statistics
```

**Svar:**
```json
{
  "totalActive": 3,
  "totalCompleted": 5,
  "totalAmountSaved": 12500.00
}
```

---

## Tips och tricks

### För nybörjare

1. **Börja enkelt** - Välj en ⭐ eller ⭐⭐ utmaning först
2. **Kortsiktigt först** - 2-7 dagar är lättare att genomföra
3. **Registrera dagligen** - Bygg en vana av att logga framsteg
4. **Fira framgångar** - Belöna dig själv när du klarar en utmaning!

### För avancerade

1. **Kombinera utmaningar** - Kör flera samtidigt (t.ex. Matlåda + Cykel)
2. **Progressiv svårighet** - Börja lätt, öka gradvis
3. **Social accountability** - Dela med vänner för extra motivation
4. **Anpassa målbelopp** - Justera efter din ekonomiska situation

### Bästa praxis

- **Var realistisk** - Sätt mål du faktiskt kan nå
- **Logga regelbundet** - Daglig eller veckovis tracking
- **Analysera mönster** - Se vilka utmaningar som funkar bäst för dig
- **Använd streaks** - Försök hålla igång dagliga streaks för motivation

---

## Felsökning

### Utmaningen visas inte som aktiv

- Kontrollera att status är "Active" (inte "Paused" eller "Completed")
- Kolla att startdatum är idag eller tidigare

### Streak återställs till 0

- Streak räknas endast om du registrerar framsteg flera dagar i rad
- Om du missar en dag nollställs streaken

### Kan inte redigera utmaning

- Vissa fält (som typ och längd) kan inte ändras efter skapande
- Skapa en ny utmaning istället

### Framsteg sparas inte

- Kontrollera att du klickat på "Spara" i dialogen
- Se till att du är inloggad
- Kolla din internetanslutning

---

## Kommande funktioner

- **Badges och achievements** - Lås upp utmärkelser för olika prestationer
- **Leaderboards** - Tävla med andra användare
- **Social sharing** - Dela framsteg på sociala medier
- **Påminnelser** - Notiser för att registrera dagligt framsteg
- **Streak-bonusar** - Extra belöningar för långa streaks
- **Grupputmaningar** - Skapa utmaningar tillsammans med familj/vänner

---

## Support

Har du frågor eller problem? 

- Öppna ett GitHub Issue på [pownas/Privatekonomi](https://github.com/pownas/Privatekonomi/issues)
- Se [README.md](../README.md) för mer information
- Kolla [ISSUE_EXAMPLES.md](../ISSUE_EXAMPLES.md) för vanliga frågor

---

**Lycka till med ditt sparande! 💰🎉**
